I"ò8<h1 id="é…ç½®-google-api">é…ç½® Google API</h1>
<p><br />
â‘  å¯ç”¨<a href="https://console.developers.google.com/apis/api/drive.googleapis.com/overview">Google API</a>ã€‚
<img src="https://raw.githubusercontent.com/streamelody/jekyll_resource/master/assets/blogImg/2018/rclone_gdrive/rclone_gdrive_001.png" alt="" /></p>

<p>â‘¡ å†åˆ›å»ºä¸€ä¸ª<a href="https://console.developers.google.com/apis/credentials/oauthclient">OAuth å®¢æˆ·ç«¯ ID</a>ï¼Œç„¶åé…ç½®<code class="highlighter-rouge">OAuthåŒæ„å±å¹•</code>ã€‚
<!--more-->
<img src="https://raw.githubusercontent.com/streamelody/jekyll_resource/master/assets/blogImg/2018/rclone_gdrive/rclone_gdrive_002.png" alt="" />
<img src="https://raw.githubusercontent.com/streamelody/jekyll_resource/master/assets/blogImg/2018/rclone_gdrive/rclone_gdrive_003.png" alt="" /></p>

<p>â‘¢ åº”ç”¨ç±»å‹é€‰æ‹©<code class="highlighter-rouge">å…¶ä»–(Other)</code>ï¼Œåç§°è‡ªå·±å¡«ã€‚
<img src="https://raw.githubusercontent.com/streamelody/jekyll_resource/master/assets/blogImg/2018/rclone_gdrive/rclone_gdrive_004.png" alt="" /></p>

<p>â‘£ è®°å½•è·å–çš„<code class="highlighter-rouge">å®¢æˆ·ç«¯ ID</code>å’Œ<code class="highlighter-rouge">å®¢æˆ·ç«¯å¯†é’¥</code>ã€‚</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>è¿™æ˜¯æ‚¨çš„å®¢æˆ·ç«¯ ID
578879908563-1geod9pt0qha5ica9s6n6kvr4upb0j9q.apps.googleusercontent.com
è¿™æ˜¯æ‚¨çš„å®¢æˆ·ç«¯å¯†é’¥
DTcYUH1q0aHIjsll-8PfEmH_
</code></pre></div></div>
<p><img src="https://raw.githubusercontent.com/streamelody/jekyll_resource/master/assets/blogImg/2018/rclone_gdrive/rclone_gdrive_005.png" alt="" /></p>

<h1 id="å®‰è£…å¹¶é…ç½®-rclone">å®‰è£…å¹¶é…ç½® Rclone</h1>
<p><br />
â‘  GCP ä½¿ç”¨<code class="highlighter-rouge">Ubuntu 16.04 LTS</code>ï¼Œå®‰è£… rcloneã€‚</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://www.moerats.com/usr/shell/rclone_debian.sh <span class="o">&amp;&amp;</span> bash rclone_debian.sh
</code></pre></div></div>

<p>â‘¡ åˆå§‹åŒ–é…ç½®ã€‚</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rclone config
</code></pre></div></div>

<p>â‘¢ ç¬¬ä¸€æ­¥é€‰æ‹©<code class="highlighter-rouge">n</code>ï¼Œç„¶åå›è½¦è¾“å…¥ä¸€ä¸ªåå­—<code class="highlighter-rouge">Rclone</code>ã€‚</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>n<span class="o">)</span> New remote
s<span class="o">)</span> Set configuration password
q<span class="o">)</span> Quit config
n/s/q&gt;n
</code></pre></div></div>

<p>â‘£ é€‰æ‹©æŒ‚è½½çš„ç±»å‹ã€‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>12 / Google Drive
   \ "drive"
13 / Hubic
   \ "hubic"
Storage&gt; 12 
</code></pre></div></div>

<p>â‘¤ è¾“å…¥ä¸Šä¸€æ­¥ç”³è¯·çš„<code class="highlighter-rouge">å®¢æˆ·ç«¯ id</code>å’Œ<code class="highlighter-rouge">å®¢æˆ·ç«¯å¯†é’¥</code>ã€‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Google Application Client Id
Leave blank normally.
Enter a string value. Press Enter for the default ("").
client_id&gt; 
Google Application Client Secret
Leave blank normally.
Enter a string value. Press Enter for the default ("").
client_secret&gt; 
</code></pre></div></div>

<p>â‘¥ å›è½¦é»˜è®¤ï¼Œç›´åˆ°<code class="highlighter-rouge">Use auto config?</code>ï¼Œé€‰æ‹©<code class="highlighter-rouge">n</code>ã€‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Use auto config?
* Say Y if not sure
* Say N if you are working on a remote or headless machine or Y didn't work
y) Yes
n) No
y/n&gt; n
</code></pre></div></div>

<p>â‘¦ è·å¾—<code class="highlighter-rouge">GoogleDrive</code>çš„æˆæƒç™»å½•åœ°å€ï¼Œç™»é™†å¹¶å…è®¸ï¼Œå›åˆ°ç»ˆç«¯è¾“å…¥æˆæƒç ï¼Œå›è½¦ã€‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>If your browser doesn't open automatically go to the following
link: https://accounts.google.com/o/oauth2/auth?access_type=
offline&amp;client_id=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
Log in and authorize rclone for access
Enter verification code&gt;

</code></pre></div></div>

<p><img src="https://raw.githubusercontent.com/streamelody/jekyll_resource/master/assets/blogImg/2018/rclone_gdrive/rclone_gdrive_006.png" alt="" /></p>

<p>â‘§ æ¥ä¸‹æ¥é»˜è®¤é€‰<code class="highlighter-rouge">n</code>ï¼Œæœ€åé€‰æ‹©<code class="highlighter-rouge">q</code>é€€å‡ºã€‚</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>e<span class="o">)</span> Edit existing remote
n<span class="o">)</span> New remote
d<span class="o">)</span> Delete remote
r<span class="o">)</span> Rename remote
c<span class="o">)</span> Copy remote
s<span class="o">)</span> Set configuration password
q<span class="o">)</span> Quit config
e/n/d/r/c/s/q&gt;q
</code></pre></div></div>

<h1 id="æŒ‚è½½google-drive">æŒ‚è½½Google Drive</h1>
<p><br />
â‘  åˆ›å»ºæŒ‚è½½ç›®å½•ã€‚</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> /root/GoogleDrive
</code></pre></div></div>

<p>â‘¡ è¾“å…¥æŒ‚è½½å‘½ä»¤ã€‚</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Rclone ä¸º Rclone çš„é…ç½®åç§°</span>
<span class="c"># :åä¸ºç½‘ç›˜é‡Œçš„æ–‡ä»¶å¤¹è·¯å¾„ï¼Œå¦‚æœä½ è¦æŒ‚è½½æ•´ä¸ªç½‘ç›˜ï¼Œå¯ä»¥ä¸ç”¨å¡«</span>
<span class="c"># /root/GoogleDrive ä¸ºæœ¬åœ°æœåŠ¡å™¨ä¸Šçš„æŒ‚è½½æ–‡ä»¶å¤¹</span>
rclone mount Rclone: /root/GoogleDrive <span class="se">\</span>
<span class="nt">--daemon</span> <span class="se">\ </span>
<span class="nt">--umask</span> 0000 <span class="se">\</span>
<span class="nt">--default-permissions</span> <span class="se">\</span>
<span class="nt">--allow-non-empty</span> <span class="se">\</span>
<span class="nt">--allow-other</span> <span class="se">\</span>
<span class="nt">--transfers</span> 4 <span class="se">\</span>
<span class="nt">--buffer-size</span> 32M <span class="se">\</span>
<span class="nt">--low-level-retries</span> 200 <span class="se">\</span>
<span class="nt">--dir-cache-time</span> 12h <span class="se">\</span>
<span class="nt">--vfs-read-chunk-size</span> 32M <span class="se">\</span>
<span class="nt">--vfs-read-chunk-size-limit</span> 1G 
</code></pre></div></div>

<p>â‘¢ æŸ¥çœ‹æŒ‚è½½çŠ¶æ€ã€‚</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>df -Th
</code></pre></div></div>
<p><img src="https://raw.githubusercontent.com/streamelody/jekyll_resource/master/assets/blogImg/2018/rclone_gdrive/rclone_gdrive_007.png" alt="" /></p>

<h1 id="rclone-ä½¿ç”¨å‘½ä»¤">Rclone ä½¿ç”¨å‘½ä»¤</h1>
<blockquote>
  <p><code class="highlighter-rouge">Rclone</code>é…ç½®ä½ç½®<code class="highlighter-rouge">~/.config/rclone/rclone.conf</code>ï¼Œå¤šå°ç”µè„‘é€šç”¨ï¼Œä¸éœ€è¦é‡å¤é…ç½®ã€‚</p>
</blockquote>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># copy å¤åˆ¶å‘½ä»¤</span>
rclone copy <span class="nt">-v</span> <span class="nt">--stats</span> 5s Rclone:temp RcloneDemo:temp <span class="nt">-P</span>

<span class="c"># sync åŒæ­¥å‘½ä»¤ ä¸€èˆ¬ä¸ä½¿ç”¨</span>
<span class="c"># åŒæ­¥ä¹‹å‰æ£€æŸ¥</span>
rclone <span class="nt">--size-only</span> <span class="nt">--dry-run</span> <span class="nb">sync </span>Rclone:temp RcloneDemo:temp <span class="nt">-P</span>

<span class="c"># åŒæ­¥</span>
rclone <span class="nt">--size-only</span> <span class="nb">sync </span>Rclone:temp RcloneDemo:temp <span class="nt">-P</span>

<span class="c"># åŒæ­¥åç¡®è®¤æ˜¯å¦æœ‰ä¸åŒ </span>
rclone <span class="nt">--size-only</span> <span class="nt">--stats</span> 5s check Rclone:temp RcloneDemo:temp <span class="nt">-P</span>
</code></pre></div></div>

<h1 id="ç™¾åº¦ç›˜ä¸‹è½½ç›¸å…³">ç™¾åº¦ç›˜ä¸‹è½½ç›¸å…³</h1>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># å®‰è£… baidupcs-web</span>
wget <span class="nt">-N</span> <span class="nt">--no-check-certificate</span> <span class="s2">"https://raw.githubusercontent.com/user1121114685/baidupcsweb/master/BDW.sh"</span> <span class="o">&amp;&amp;</span> <span class="nb">chmod</span> +x BDW.sh <span class="o">&amp;&amp;</span> bash BDW.sh

<span class="c"># åœ¨çº¿è·å– BDUSS å·¥å…·ã€‚</span>
<span class="c"># http://tool.cccyun.cc/tool/bduss/index2.html</span>

<span class="c"># è®¾ç½® swap</span>
wget https://www.moerats.com/usr/shell/swap.sh <span class="o">&amp;&amp;</span> bash swap.sh
<span class="c"># ç„¶åæ ¹æ®é€‰é¡¹è¿›è¡Œæ“ä½œï¼Œè®°å¾—æ·»åŠ `swap`çš„æ—¶å€™å¡«å†™çº¯æ•°å­—ï¼Œé»˜è®¤å•ä½ä¸º`M`ã€‚</span>
<span class="c"># æŸ¥çœ‹å†…å­˜çŠ¶å†µ</span>
free <span class="nt">-m</span>

<span class="c"># å®‰è£… unrar</span>
<span class="nb">sudo </span>apt-get <span class="nb">install </span>rar
<span class="nb">sudo </span>apt-get <span class="nb">install </span>unrar

<span class="c"># ä½¿ç”¨å‘½ä»¤ </span>
rar x filename.rar
unzip filename.zip
<span class="nb">tar </span>xvf filename.tar

<span class="c"># Ubuntu ç»ˆç«¯æ˜¾ç¤º?ä¹±ç </span>
<span class="nb">sudo </span>locale-gen zh_CN.UTF-8

<span class="c"># ä½¿ç”¨ tree å‘½ä»¤æ˜¾ç¤ºæ–‡ä»¶</span>
apt-get <span class="nb">install </span>tree
tree <span class="nt">-N</span>

<span class="c"># æ¨¡ç³Šæœç´¢</span>
<span class="nb">sudo </span>find / <span class="nt">-name</span> <span class="s1">'*tomcat*'</span>

<span class="c"># screen ç›¸å…³ä½¿ç”¨</span>
apt-get <span class="nb">install </span>screen
<span class="c"># screen è¿›å…¥é¡µé¢</span>
<span class="c"># screen -ls æ˜¾ç¤ºåˆ—è¡¨ </span>
<span class="c"># screen -r æ•°å­—å è¿æ¥å¯¹åº”çª—å£</span>
<span class="c"># screen -X -S æ•°å­—å quit åˆ é™¤å¯¹åº”çª—å£</span>
<span class="c"># control + a + d é€€å‡ºçª—å£</span>

<span class="c"># connect to host 23.95.70.239 port 22: Connection refused è§£å†³æ–¹æ³•</span>
<span class="c"># æŸ¥çœ‹ sshd æœåŠ¡å¤±è´¥çš„åŸå› </span>
/usr/sbin/sshd <span class="nt">-T</span>
<span class="c"># æŸ¥æ‰¾åˆ°åŸå› ä¸º Missing privilege separation directory: /var/run/sshd</span>
<span class="c"># ä»¥ä¸‹æ˜¯è§£å†³æ–¹æ¡ˆ</span>
mount|grep /var
<span class="nb">ls</span> <span class="nt">-al</span> /var/run/|grep ssh<span class="p">;</span> <span class="nb">echo</span> <span class="nv">$?</span>
<span class="nb">sudo mkdir</span> /var/run/sshd
<span class="nb">sudo</span> /etc/init.d/ssh restart
</code></pre></div></div>

<h1 id="aria2-ç¦»çº¿ä¸‹è½½æ­å»º">Aria2 ç¦»çº¿ä¸‹è½½æ­å»º</h1>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># å®‰è£… Aria2</span>
<span class="c"># é»˜è®¤å¯†åŒ™ï¼šdoub.io</span>
<span class="c"># é»˜è®¤ä¸‹è½½åœ°å€ï¼š/usr/local/caddy/www/file</span>
wget <span class="nt">-N</span> <span class="nt">--no-check-certificate</span> https://www.moerats.com/usr/shell/Aria2/aria2.sh <span class="o">&amp;&amp;</span> <span class="nb">chmod</span> +x aria2.sh <span class="o">&amp;&amp;</span> bash aria2.sh

<span class="c"># å®‰è£… Aria2 WebUIå‰ç«¯</span>
wget <span class="nt">-N</span> <span class="nt">--no-check-certificate</span> https://www.moerats.com/usr/shell/Caddy/caddy_install.sh <span class="o">&amp;&amp;</span> <span class="nb">chmod</span> +x caddy_install.sh <span class="o">&amp;&amp;</span> bash caddy_install.sh <span class="nb">install </span>http.filemanager

<span class="c"># æ–°å»ºå¹¶è¿›å…¥æ–‡ä»¶å¤¹</span>
<span class="nb">mkdir</span> /usr/local/caddy/www <span class="o">&amp;&amp;</span> <span class="nb">mkdir</span> /usr/local/caddy/www/aria2 <span class="o">&amp;&amp;</span> <span class="nb">mkdir</span> /usr/local/caddy/www/aria2/Download
<span class="nb">cd</span> /usr/local/caddy/www/aria2
 
<span class="c"># å…ˆå®‰è£… unzip ä¾èµ–ï¼ˆè§£å‹ZIPï¼‰ã€‚</span>
<span class="c"># CentOS ç³»ç»Ÿï¼š</span>
yum <span class="nb">install </span>unzip <span class="nt">-y</span>
<span class="c"># Debian/Ubuntu ç³»ç»Ÿï¼š</span>
apt-get <span class="nb">install </span>unzip <span class="nt">-y</span>

<span class="c"># ç„¶åä¸‹è½½å‰ç«¯æ–‡ä»¶</span>
wget <span class="nt">-N</span> <span class="nt">--no-check-certificate</span> https://github.com/ziahamza/webui-aria2/archive/master.zip
unzip master.zip  
<span class="nb">mv </span>webui-aria2-master/docs/<span class="k">*</span> <span class="nb">.</span>
<span class="nb">rm</span> <span class="nt">-rf</span> webui-aria2-master/
<span class="nb">rm</span> <span class="nt">-rf</span> master.zip  
<span class="c"># èµ‹äºˆæ–‡ä»¶å¤¹æƒé™</span>
<span class="nb">chmod</span> <span class="nt">-R</span> 755 /usr/local/caddy/www/aria2


<span class="c">#é…ç½®ipè®¿é—®ï¼Œä»¥ä¸‹å…¨éƒ¨å†…å®¹æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œæ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œå…¨éƒ¨å¤åˆ¶ç²˜è´´åˆ°SSHè½¯ä»¶ä¸­å¹¶ä¸€èµ·æ‰§è¡Œï¼</span>
<span class="nb">echo</span> <span class="s2">":80 {
 root /usr/local/caddy/www/aria2
 timeouts none
 gzip
}"</span> <span class="o">&gt;</span> /usr/local/caddy/Caddyfile

<span class="c">#è¿è¡Œ</span>
/etc/init.d/caddy start
</code></pre></div></div>

<h1 id="å‚è€ƒæ–‡ç« ">å‚è€ƒæ–‡ç« </h1>

<ol>
  <li>
    <p><a href="https://www.moerats.com/archives/481/">åœ¨Debian/Ubuntuä¸Šä½¿ç”¨rcloneæŒ‚è½½Google Driveç½‘ç›˜</a></p>
  </li>
  <li>
    <p><a href="https://www.moerats.com/archives/870/">ä½¿ç”¨Plexdrive/Rclone+Google Driveæ­å»ºæ— é™å®¹é‡çš„åª’ä½“åº“ï¼Œé€‚ç”¨äºPlex/Emby/Jellyfinç­‰</a></p>
  </li>
  <li>
    <p><a href="https://www.moerats.com/archives/877/">è§£å†³RcloneæŒ‚è½½Google Driveæ—¶ä¸Šä¼ å¤±è´¥å’Œå†…å­˜å ç”¨é«˜ç­‰é—®é¢˜</a></p>
  </li>
  <li>
    <p><a href="https://github.com/liuzhuoling2011/baidupcs-web/issues/65">baidupcs-webçš„ä¸€é”®è„šæœ¬(ubuntu/debian/centos)</a></p>
  </li>
  <li>
    <p><a href="https://www.moerats.com/archives/722/">Linux VPSä¸€é”®æ·»åŠ /åˆ é™¤Swapè™šæ‹Ÿå†…å­˜</a></p>
  </li>
  <li>
    <p><a href="https://www.moerats.com/archives/491/">åœ¨Debian/Ubuntuä¸Šä½¿ç”¨rcloneæŒ‚è½½OneDriveç½‘ç›˜</a></p>
  </li>
  <li>
    <p><a href="https://github.com/user1121114685/baidupcsweb">ç™¾åº¦ç½‘ç›˜PCSçš„WEBç‰ˆæœ¬çš„linuxä¸€é”®è„šæœ¬</a></p>
  </li>
  <li>
    <p><a href="https://www.moerats.com/archives/401/">ä½¿ç”¨Aria2+AriaNG+FileManageræ¥è¿›è¡Œç¦»çº¿BTä¸‹è½½åŠåœ¨çº¿æ’­æ”¾</a></p>
  </li>
  <li>
    <p><a href="https://doubibackup.com/ouiwm7ss-3.html">ä¸€ä¸ªæ”¯æŒ ç¦»çº¿ä¸‹è½½/BT/ç£åŠ›é“¾æ¥ çš„Aria2åœ¨çº¿ç®¡ç†é¢æ¿ â€”â€” Aria2 WebUI</a></p>
  </li>
</ol>

:ET