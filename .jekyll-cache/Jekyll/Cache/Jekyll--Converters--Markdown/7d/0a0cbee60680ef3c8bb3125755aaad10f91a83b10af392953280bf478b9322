I"r<p>â‘   ä¸‹è½½ <a href="https://www.proxmox.com/en/downloads">Proxmox VE ISO Installer</a>ã€‚</p>

<p>â‘¡  ä½¿ç”¨ <a href="https://www.balena.io/etcher/">balenaEtcher</a> å°†<code class="highlighter-rouge">Proxmox VE</code>é•œåƒçƒ§å½•åˆ°ä¼˜ç›˜ä¸­ã€‚</p>

<p>â‘¢  ä¸»æœºä½¿ç”¨ä¼˜ç›˜å®‰è£…<code class="highlighter-rouge">Proxmox VE</code>ã€‚</p>

<p>â‘£  WEB è®¿é—® https://ip:8006/ ã€‚</p>

<p>â‘¤  ä¿®æ”¹<code class="highlighter-rouge">/usr/share/pve-manager/js/pvemanagerlib.js</code></p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>å°† <span class="k">if</span><span class="o">(</span>data.status!<span class="o">==</span><span class="s1">'Active'</span><span class="o">)</span> æ›¿æ¢ä¸º <span class="k">if</span><span class="o">(</span><span class="nb">false</span><span class="o">)</span>
</code></pre></div></div>
<!--more-->

<p>â‘¥  å°†ç¡¬ç›˜è¿›è¡Œåˆ†åŒºã€‚</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># æŸ¥çœ‹ç£ç›˜åˆ†åŒº</span>
fdisk <span class="nt">-l</span>
fdisk /dev/sda
<span class="c"># è¾“å…¥ m æŸ¥çœ‹å¯ä»¥è¿›è¡Œçš„æ“ä½œ</span>
<span class="c"># è¾“å…¥ n è¿›è¡Œåˆ†åŒº</span>
<span class="c"># æ ¼å¼åŒ–åˆ†åŒºä¸º ext4 æ ¼å¼</span>
mkfs.ext4 /dev/sda1
<span class="c"># æŒ‚è½½ç£ç›˜åˆ°ç›®å½•</span>
<span class="nb">mkdir</span> /storage
mount /dev/sda1 /storage
<span class="c"># è®¾ç½®è‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜</span>
vi /etc/fstab
/dev/sda1 /storage ext4 defaults 0 0

<span class="c"># ç¡¬ç›˜ç›´é€š</span>
apt-get update
apt-get <span class="nb">install </span>lshw
<span class="nb">ls</span> <span class="nt">-l</span> /dev/disk/by-id/
<span class="c"># æ³¨æ„ sata çš„ç¼–å·è¦å¢é‡ä¸èƒ½ç›¸åŒï¼Œæ¯”å¦‚ç¬¬äºŒä¸ªç›´é€šçš„ç£ç›˜å°±æ˜¯sata3</span>
qm <span class="nb">set </span>100 <span class="nt">--sata1</span> /dev/disk/by-id/ata-ST500DM002-1BD142_S2A5WF81-part1
</code></pre></div></div>

<p>â‘¦  ä¸‹è½½ä»¥ä¸‹æ–‡ä»¶ã€‚</p>

<p><a href="https://roo.ooo/go/aHR0cHM6Ly9wYW4uYmFpZHUuY29tL3MvMWdHQ1dQZUNZQTBFTTRuUmxybnA3N2c=">å¼•å¯¼æ–‡ä»¶</a> è§£å‹å¯†ç ï¼šk8tn<br />
<a href="https://roo.ooo/go/aHR0cHM6Ly9yb28tMTI1MjI4ODE3OS5jb3MuYXAtZ3Vhbmd6aG91Lm15cWNsb3VkLmNvbS8yMDE4L2ltZzJrdm0=">img2kvm</a>ï¼ˆpveç«¯ï¼‰<br />
<a href="https://roo.ooo/go/aHR0cHM6Ly9hcmNoaXZlLnN5bm9sb2d5LmNvbS9kb3dubG9hZC9EU00vcmVsZWFzZS82LjIvMjM3MzkvRFNNX0RTMzYxN3hzXzIzNzM5LnBhdA==">DS3617xs-6.2-23739</a>ï¼ˆç¾¤æ™–ç³»ç»Ÿï¼‰</p>

<p>â‘§  å®‰è£…ç¾¤æ™–ã€‚</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># åˆ›å»ºè™šæ‹Ÿæœºï¼Œ ç¡¬ç›˜é€‰ SATAï¼Œ ç½‘å¡é€‰ Intel E1000</span>
<span class="c"># å°† img2kvm å’Œå¼•å¯¼æ–‡ä»¶ nas.img ä¸Šä¼ åˆ° /root æ–‡ä»¶</span>
<span class="nb">chmod</span> +x img2kvm
./img2kvm nas.img 101 vm-101-disk-1

<span class="c"># ç¼–è¾‘ /etc/pve/qemu-server/101.conf é…ç½®</span>
<span class="c"># ä»¥ä¸‹æ˜¯ DSM çš„é…ç½®</span>
boot: cdn
bootdisk: sata1
cores: 1
ide2: none,media<span class="o">=</span>cdrom
memory: 1024
name: DSM6.2
net0: <span class="nv">e1000</span><span class="o">=</span>D6:84:70:DE:48:DE,bridge<span class="o">=</span>vmbr0,firewall<span class="o">=</span>1
numa: 0
ostype: l26
sata0: local-lvm:vm-101-disk-1,size<span class="o">=</span>32G
sata1: local-lvm:vm-101-disk-2,size<span class="o">=</span>52M
sata2: /dev/disk/by-id/ata-TOSHIBA_DT01ABA300V_Z813HRSAS,size<span class="o">=</span>2930266584K
sata3: /dev/disk/by-id/ata-ST500DM002-1BD142_S2A5WF81,size<span class="o">=</span>488386584K
scsihw: virtio-scsi-pci
smbios1: <span class="nv">uuid</span><span class="o">=</span>726f2893-bc9e-40f1-b742-fddbe3f6412f
sockets: 1
vmgenid: 6c552bbe-2235-4c06-845e-92766087e6e0

<span class="c"># æ‰“å¼€ç¾¤æ™–Synology Assistantè¿›è¡Œæœç´¢</span>
<span class="c"># æ‰‹åŠ¨å®‰è£… DS3617xs-6.2-23739 </span>

<span class="c"># å®‰è£…å®Œæˆä¹‹åï¼ŒDMS æ§åˆ¶é¢æ¿ &gt; ç»ˆç«¯æœºå’Œ SNMPï¼Œæ‰“å¼€ SSHã€‚</span>
<span class="c"># ä»¥ SSH ç™»å½•åˆ° DMS</span>
<span class="c"># è®¾ç½®ç¦ç”¨æ›´æ–°</span>
127.0.0.1	global.download.synology.com
127.0.0.1	update.synology.com
127.0.0.1	autoupdate.synology.com
127.0.0.1	autoupdate.synology.cn
</code></pre></div></div>

<h1 id="vmware-æ ¼å¼-dsm-è¿ç§»åˆ°-pve">VMware æ ¼å¼ DSM è¿ç§»åˆ° PVE</h1>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ä»¥æ­¤é•œåƒä¸ºä¾‹ï¼Œè¿™æ˜¯ä¸€ä¸ª VMware çš„è™šæ‹Ÿç¡¬ç›˜</span>
<span class="c"># é“¾æ¥ï¼šhttps://pan.baidu.com/s/1rjUQgoeKsSi4qyJCv7yTEQ æå–ç ï¼š65kk è§£å‹å¯†ç : doraemon</span>
<span class="c"># è§£å‹åå¾—åˆ° ds3617xs_dsm62.vmdk å’Œ synoboot.vmdkï¼Œä¸Šä¼ åˆ° ProxMox ç›®å½•ä¸‹</span>

<span class="c"># å†æ‰¾åˆ° img2kvmï¼ŒåŒæ ·ä¸Šä¼ åˆ° ProxMox ç›®å½•ä¸‹</span>

<span class="c"># SSH ç™»é™†åˆ° ProxMoxï¼Œå°† vmdk è½¬ä¸º raw  </span>
qemu-img convert synoboot.vmdk synoboot.raw 
qemu-img convert ds3617xs_dsm62.vmdk ds3617xs_dsm62.raw 

<span class="c"># ProxMox åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºï¼Œæ¯”å¦‚ VM ID ä¸º 105</span>
<span class="c"># ä½¿ç”¨ img2kvm åˆ›å»ºå°† raw è½¬æ¢ä¸ºè™šæ‹Ÿæœºç£ç›˜</span>
./img2kvm synoboot.raw 105 vm-105-disk-1
./img2kvm ds3617xs_dsm62.raw 105 vm-105-disk-2

<span class="c"># ç„¶ååœ¨ ProxMox ä¸­æ·»åŠ è¿™ä¸¤ä¸ªç£ç›˜ï¼Œç„¶åè®¾ç½®å¯åŠ¨é¡ºåºå°±å¯ä»¥äº†</span>

<span class="c"># æœ€åè¡¥å……ï¼Œå¯ä»¥ä½¿ç”¨ qemu-img ä»£æ›¿ img2kvm å®Œæˆ VMware ç£ç›˜çš„è½¬æ¢ï¼Œç„¶åå¯¼å…¥å³å¯</span>
qemu-img convert <span class="nt">-f</span> raw <span class="nt">-O</span> qcow2 synoboot.raw vm-105-disk-1.qcow2
qemu-img convert <span class="nt">-f</span> raw <span class="nt">-O</span> qcow2 ds3617xs_dsm62.raw vm-105-disk-2.qcow2

qm importdisk 105 vm-105-disk-1.qcow2 <span class="nb">local
</span>qm importdisk 105 vm-105-disk-2.qcow2 <span class="nb">local</span>
</code></pre></div></div>

<h1 id="å‚è€ƒæ–‡ç« ">å‚è€ƒæ–‡ç« </h1>

<ol>
  <li><a href="http://roo.ooo/o/pve.html">Proxmox VEä¸‹å®‰è£…é»‘ç¾¤æ™–DSM 6.2</a></li>
  <li><a href="https://post.smzdm.com/p/a25r8mo2/">åŸºäºProXmoX VEçš„è™šæ‹ŸåŒ–å®¶åº­æœåŠ¡å™¨ï¼ˆç¯‡ä¸‰ï¼‰â€”é»‘è£™6.2å®‰è£…ï¼Œç¡¬ç›˜ç›´é€š</a></li>
  <li><a href="https://www.cnblogs.com/visec479/p/4072754.html">Linux ç¡¬ç›˜åˆ†åŒºã€åˆ†åŒºã€åˆ é™¤åˆ†åŒºã€æ ¼å¼åŒ–ã€æŒ‚è½½ã€å¸è½½</a></li>
  <li><a href="https://www.vediotalk.com/?p=2781">VLOGä¸¨PVE(Proxmox VE)ä¸‹ç½‘å¡æ˜¯å¦‚ä½•è®¾ç½®ç›´é€šçš„</a></li>
  <li><a href="https://www.nas2x.com/threads/vmwarenfsphotostationvideostation.578/">VMwareé»‘ç¾¤è§£å†³æŒ‚è½½NFSåPhotoStationå’ŒVideoStationæ— æ³•ç´¢å¼•çš„é—®é¢˜</a></li>
  <li><a href="https://www.youtube.com/watch?v=wmbwNT0gul0">Migrate VMware guest to ProxMox guest</a></li>
  <li><a href="http://www.hopol.cn/2018/06/1266/">ProXmoXä¸‹ä½¿ç”¨QMå‘½ä»¤éƒ¨ç½²é»‘ç¾¤æ™–DSM6.1.7</a></li>
  <li><a href="https://originwww.synology.com/zh-cn/knowledgebase/DSM/tutorial/Service_Application/What_websites_does_Synology_NAS_connect_to_when_running_services_or_updating_software">å½“ Synology NAS è¿è¡ŒæœåŠ¡æˆ–æ›´æ–°è½¯ä»¶æ—¶è¿æ¥åˆ°ä»€ä¹ˆç½‘ç«™ï¼Ÿ</a></li>
</ol>
:ET